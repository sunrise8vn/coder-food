import{c as k,j as o,g as L,a as M,s as U,r as A,b as u,_ as l,d as H,e as h,u as N,f as F,h as V,i as q,k as W,l as G,m as K,A as j,o as S,E as I,C as z,S as E,n as D,Q as _,T as Q}from"./index-31KTgYJE.js";import{S as J,c as X,a as y,u as Y,C as Z,B,A as ee,d as oe,T as P,F as ne,L as R}from"./object-PZxqVlsC.js";import{C as se,G as p}from"./Grid-b6ev4QfJ.js";import{T as ae}from"./Typography-ThIkhuDa.js";import{B as re}from"./Button-pkHz8HGi.js";import"./Input-JY0YtHyS.js";import"./GlobalStyles-8tykBy_y.js";import"./Modal-aDGXqY_i.js";import"./utils-VBEYguCc.js";import"./Paper-utcU2O7-.js";const te=k(o.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),ce=k(o.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),ie=k(o.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function le(e){return M("MuiCheckbox",e)}const de=L("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),x=de,ue=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],me=e=>{const{classes:n,indeterminate:a,color:s,size:t}=e,r={root:["root",a&&"indeterminate",`color${u(s)}`,`size${u(t)}`]},c=q(r,le,n);return l({},n,c)},he=U(J,{shouldForwardProp:e=>A(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:a}=e;return[n.root,a.indeterminate&&n.indeterminate,n[`size${u(a.size)}`],a.color!=="default"&&n[`color${u(a.color)}`]]}})(({theme:e,ownerState:n})=>l({color:(e.vars||e).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${n.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette[n.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:H(n.color==="default"?e.palette.action.active:e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},n.color!=="default"&&{[`&.${x.checked}, &.${x.indeterminate}`]:{color:(e.vars||e).palette[n.color].main},[`&.${x.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),pe=o.jsx(ce,{}),xe=o.jsx(te,{}),ke=o.jsx(ie,{}),Ce=h.forwardRef(function(n,a){var s,t;const r=N({props:n,name:"MuiCheckbox"}),{checkedIcon:c=pe,color:d="primary",icon:C=xe,indeterminate:i=!1,indeterminateIcon:g=ke,inputProps:O,size:m="medium",className:$}=r,w=F(r,ue),b=i?g:C,v=i?g:c,f=l({},r,{color:d,indeterminate:i,size:m}),T=me(f);return o.jsx(he,l({type:"checkbox",inputProps:l({"data-indeterminate":i},O),icon:h.cloneElement(b,{fontSize:(s=b.props.fontSize)!=null?s:m}),checkedIcon:h.cloneElement(v,{fontSize:(t=v.props.fontSize)!=null?t:m}),ownerState:f,ref:a,className:V(T.root,$)},w,{classes:T}))}),ge=Ce,be=W(),ve=X().shape({username:y().required("Tài khoản không để trống"),password:y().min(4,"Tối thiếu 4 ký tự!").max(32,"Tối đa 32 ký tự!").required("Mật khẩu không để trống")});function Pe(){const e=G(),n=K(),a=localStorage.getItem(j.ACCESS_TOKEN);a&&(S(a).role===I.ROLE_CUSTOMER?setTimeout(()=>{n(z)},100):setTimeout(()=>{n(E)},100));const s=Y({initialValues:{username:"",password:""},validationSchema:ve,onSubmit:t=>{const r=D(t);e(r).unwrap().then(c=>{const d=c.token;localStorage.setItem(j.ACCESS_TOKEN,d);const i=S(d).role;_.success("Đăng nhập thành công",{autoClose:1500}),i===I.ROLE_CUSTOMER?setTimeout(()=>{n(z)},2e3):setTimeout(()=>{n(E)},2e3)}).catch(c=>{_.error("Đăng nhập không thành công",{autoClose:1e3}),console.log("handleLogin ========"),console.log(c)})}});return o.jsx(Q,{theme:be,children:o.jsxs(Z,{component:"main",maxWidth:"xs",sx:{backgroundImage:"https://thanhnien.mediacdn.vn/Uploaded/linhnt-qc/2022_02_14/shopee-1-6160.jpg"},children:[o.jsx(se,{}),o.jsxs(B,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx(ee,{sx:{m:1,bgcolor:"secondary.main"},children:o.jsx(oe,{})}),o.jsx(ae,{component:"h1",variant:"h5",children:"Đăng nhập"}),o.jsxs(B,{component:"form",onSubmit:s.handleSubmit,noValidate:!0,sx:{mt:1},children:[o.jsx(P,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Email Address / Phone Number",name:"username",autoComplete:"username",value:s.values.username,onChange:s.handleChange,error:s.errors.username&&s.touched.username,helperText:s.touched.username&&s.errors.username,onBlur:s.handleBlur}),o.jsx(P,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:s.values.password,onChange:s.handleChange,error:s.errors.password&&s.touched.password,helperText:s.touched.password&&s.errors.password,onBlur:s.handleBlur}),o.jsx(ne,{control:o.jsx(ge,{value:"remember",color:"primary"}),label:"Remember me"}),o.jsx(re,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,backgroundColor:"#ee4d2d","&:hover":{backgroundColor:"#ee4d2d"},"&:active":{backgroundColor:"#ee4d2d"}},children:"Đăng nhập"}),o.jsxs(p,{container:!0,children:[o.jsx(p,{item:!0,xs:!0,children:o.jsx(R,{href:"#",variant:"body2",children:"Quên mật khẩu?"})}),o.jsx(p,{item:!0,children:o.jsx(R,{href:"register",variant:"body2",children:"Không có tài khoản? Đăng ký"})})]})]})]})]})})}export{Pe as default};
